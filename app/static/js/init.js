// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    var user;
    user = new window.models.User({
      id: window.userid
    });
    window.existingQueries = new window.collections.Queries();
    user.fetch({
      success: function(model) {
        return existingQueries.fetch({
          success: function(coll) {
            var map;
            cc(user.toJSON());
            window.app = new window.Workspace({
              user: user
            });
            Backbone.history.start();
            map = new models.StoryMap({
              queries: existingQueries
            });
            map.user = user;
            map = new views.MapItem({
              model: map
            });
            return map.render();
          }
        });
      }
    });
    return $.post("/favorite", {
      user_id: 56,
      query_id: 21
    }, function(resp) {
      return cc(resp);
    });
  });

}).call(this);
