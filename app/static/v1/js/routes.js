// Generated by CoffeeScript 1.6.3
(function() {
  $(function() {
    /* Router*/

    return window.Workspace = Backbone.Router.extend({
      initialize: function(attrs) {
        this.user = attrs.user;
        return this.controller = attrs.controller;
      },
      routes: {
        "saved": "saved",
        "settings": "settings",
        "query/:title": "gotomap",
        "help": "help"
      },
      saved: function(rt) {
        var saved;
        saved = new views.QueryThumbList({
          collection: this.user.get("queries")
        });
        return launchModal(saved.render().el, {
          destroyHash: true
        });
      },
      settings: function() {
        return launchModal("<h2>Your Settings</h2>", {
          destroyHash: true
        });
      },
      gotomap: function(title) {
        cc(existingQueries._byTitle);
        console.log(this);
        if (existingQueries._byTitle.hasOwnProperty(title)) {
          this.controller.loadQuery(existingQueries._byTitle[title]);
          return $(".js-save-query").addClass("hidden");
        }
      },
      help: function() {
        return launchModal($("#help-template").html());
      }
    });
  });

}).call(this);
